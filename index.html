<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tense Drill with Save</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f9fafb; }
    h1 { text-align: center; margin-bottom: 20px; }
    .question { margin-bottom: 20px; padding: 12px; border-radius: 8px; background: #fff; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    input { width: 100%; padding: 8px; margin-top: 6px; border: 1px solid #ccc; border-radius: 4px; }
    .learned { background: #e5ffe5; }
    .check-btn { background:#10b981; color:white; border:none; padding:10px 16px; margin:20px 0; border-radius:6px; font-size:1rem; cursor:pointer; }
    .learn-btn { background:#f59e0b; color:white; border:none; padding:6px 10px; border-radius:6px; margin-top:6px; cursor:pointer; }
    .correct { color: green; font-weight: bold; }
    .wrong { color: red; font-weight: bold; }
  </style>
</head>
<body>
  <h1>ç¬é–“æ´»ç”¨ãƒ‰ãƒªãƒ« ğŸ¯</h1>
  <div id="quiz"></div>
  <button class="check-btn" onclick="checkAnswers()">âœ… Check Answers</button>

  <script>
    // å‹•è©æ´»ç”¨ï¼ˆã“ã“ã«å¢—ã‚„ã—ã¦ã„ã‘ã‚‹ï¼‰
    const verbs = {
      come: { base: "come", third: "comes", past: "came", perfect: "has come", future: "will come" }
    };

    // å‡ºé¡Œãƒ‘ã‚¿ãƒ¼ãƒ³
    const questions = [
      { id: 1, q: "She ___ to the meeting yesterday.", tense: "past" },
      { id: 2, q: "He ___ to school every day.", tense: "third" },
      { id: 3, q: "They ___ to the park tomorrow.", tense: "future" },
      { id: 4, q: "I ___ to the station already.", tense: "perfect" }
    ];

    const selectedVerb = "come"; // ä»Šå›ã¯ come å›ºå®š

    // ä¿å­˜æ¸ˆã¿ãƒã‚§ãƒƒã‚¯ã‚’èª­ã¿è¾¼ã¿
    let learned = JSON.parse(localStorage.getItem("learned")) || [];

    // å•é¡Œã‚’è¡¨ç¤º
    const quizDiv = document.getElementById("quiz");
    questions.forEach((item,i) => {
      const hidden = learned.includes(item.id);
      quizDiv.innerHTML += `
        <div class="question ${hidden ? "learned" : ""}" id="q${item.id}" ${hidden?"style='display:none'":""}>
          ${i+1}. ${item.q}<br>
          <input type="text" id="ans${item.id}" placeholder="Type your answer">
          <button class="learn-btn" onclick="markAsLearned(${item.id})">âœ… è¦šãˆãŸ</button>
          <div><span id="result${item.id}"></span></div>
        </div>
      `;
    });

    // ç­”ãˆåˆã‚ã›
    function checkAnswers() {
      questions.forEach(item => {
        if (learned.includes(item.id)) return; // è¦šãˆãŸå•é¡Œã¯ã‚¹ã‚­ãƒƒãƒ—
        const userAns = document.getElementById("ans"+item.id).value.trim();
        const correct = verbs[selectedVerb][item.tense];
        const resultSpan = document.getElementById("result"+item.id);
        if(userAns.toLowerCase() === correct.toLowerCase()) {
          resultSpan.textContent = "âœ” Correct!";
          resultSpan.className = "correct";
        } else {
          resultSpan.textContent = `âœ˜ Wrong (Answer: ${correct})`;
          resultSpan.className = "wrong";
        }
      });
    }

    // ã€Œè¦šãˆãŸã€ãƒœã‚¿ãƒ³
    function markAsLearned(id) {
      if (!learned.includes(id)) {
        learned.push(id);
        localStorage.setItem("learned", JSON.stringify(learned));
      }
      document.getElementById("q"+id).style.display = "none";
    }
  </script>
</body>
</html>
